---
/**
 * Site header â€” sticky 24-col grid nav.
 * z-40 so it sits above content but below StickyBar (z-50).
 */
import { getFeatureFlag } from '../lib/queries';

const shopEnabled = await getFeatureFlag('shop_enabled');
---

<header class="sticky top-0 z-40 bg-white border-b border-neutral-100">
  <nav class="site-grid items-center py-2" aria-label="Main">
    <a href="/" class="col-span-2 lg:col-span-4 flex items-center gap-2">
      <img src="/brand/icon-k.svg" alt="Tool" class="h-[20px] w-auto" />
      <span class="text-body font-semibold uppercase tracking-widest">Tool</span>
    </a>
    <div class={`hidden lg:block ${shopEnabled ? 'lg:col-span-14' : 'lg:col-span-16'}`}></div>
    {shopEnabled && (
      <a href="/shop" class="col-span-2 text-body font-medium text-right lg:text-center hover:bg-neutral-100 px-3 py-1.5 transition-colors">Shop</a>
    )}
    <button data-cal-link="toolnyc/30min" data-cal-config='{"layout":"month_view"}' class="col-span-2 text-body font-medium text-right lg:text-center hover:bg-neutral-100 px-3 py-1.5 transition-colors cursor-pointer bg-transparent border-none p-0">Book</button>
    <a href="/admin/login" class="hidden lg:block col-span-2 text-body text-center text-caption-gray hover:text-neutral-900 hover:bg-neutral-100 px-3 py-1.5 transition-colors">Login</a>
  </nav>
</header>
